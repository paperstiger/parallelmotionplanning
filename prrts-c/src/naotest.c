#include <stdlib.h>
#include <stdbool.h>
#include <stdio.h>
#include <string.h>
#include "prrts.h"
#include "naocup.h"

#define array_size(a) (sizeof(a)/sizeof((a)[0]))

struct test_data {
	double config[10];
	bool is_clear;
	bool in_goal;
	bool link_to_prev;
} test_data[] = {
	{ { 1.4555181810632036, -0.5971100542043668, -0.07083206525072105, 0.8578270510871835, -0.5044190077301454, -0.34477687045478156, 0.8345784830745733, -0.3664823413514988, -0.42847161945575407, 0.45589145729285807 }, false, false, false }, /* 0 */
	{ { 1.4729542038161467, -1.2280576597664479, 1.7762707956241188, 1.0592292850081835, 1.5077377902207028, -0.6790768856440041, 1.0837338985491372, -1.7921036190610629, -0.9690050788509006, -1.4123457617106738 }, true, false, false }, /* 1 */
	{ { -0.14176102980294902, -1.1484016765185872, 2.0072555756940025, 0.11757799141411579, -0.9356249175964864, -1.1624373074811025, 0.647450724833251, -1.8195664633070951, -0.15828467986240846, 0.7461886721833184 }, true, false, true }, /* 2 */
	{ { -0.3280667896354512, -1.0811411883540936, 0.43223937670185686, 0.09044803838510838, 1.1734902894582468, -1.5792127327396734, 0.9708411377858146, -1.7440954765778884, -0.24057386263418423, 0.7550688341161251 }, true, false, true }, /* 3 */
	{ { 0.9758352215788806, -1.4859828527731223, 1.1478890056569138, 0.4869591752885335, 1.166210307113528, -1.1966334201501923, 0.27092035759694916, 1.0983136226165464, -0.6628791668656145, 1.565588258929326 }, true, false, true }, /* 4 */
	{ { 0.9571940643051557, -0.7932464772279146, 2.072273408485775, 0.40865322891810535, -0.1116796281622392, -0.43216388121381666, 0.324519378660415, 0.06036225178764676, -1.2937862032563412, 0.19004488345763537 }, true, false, true }, /* 5 */
	{ { 1.0977640131995154, -0.9098504412676355, 1.728491025427878, 0.8189526451939357, 0.9406495065306766, 0.6623285570216999, 1.193455524581058, -0.7772865493805663, -0.07310891109865758, -1.8053601918778897 }, true, false, true }, /* 6 */
	{ { 0.9827607256765281, -0.8545332294368543, 1.9364282652716929, 0.869835928155486, 0.13504722590021978, 1.1640955273660536, 1.3100519162064639, 0.1578944916921876, -0.6684883694306255, -1.0102252582931266 }, true, false, true }, /* 7 */
	{ { 1.2354205977314416, -1.6148342268508122, 1.5550663960206665, 1.501516581005193, 1.5118230540774942, -0.9733161339822147, 0.04143785200966382, 1.7245787317200674, -1.5185556379957388, -1.5307230556079294 }, true, false, false }, /* 8 */
	{ { -0.4305999482245093, -1.4287470161120082, 0.12010539644059914, 0.5995781211789999, 1.3865394155005704, 1.4999963359665918, 0.8723315379420684, 0.27297379053020654, -0.16271782965698733, 1.6118513377172987 }, true, false, false }, /* 9 */
	{ { 1.6006250793852335, -1.4668290475869612, -1.8974693351239484, 0.11670811856759375, -1.4460239732945923, -1.5323099298534746, 1.442496624395698, 1.9053507200419246, -1.2844830341036522, -0.27374509774229994 }, true, false, false }, /* 10 */
	{ { 0.25163454423965126, -1.287019856373195, 1.749666878428096, 0.2541454167541879, 0.019755071386148515, -1.4710099894005024, 0.38704197309607025, 0.9484459347144494, -1.3336565072045616, 0.6904950226503725 }, true, false, false }, /* 11 */
	{ { 0.7161789073384122, -0.9879721138287241, 0.6629808134398925, 0.2420373017682172, 1.6501180279444747, 0.8779412675999589, 1.2989791447794985, 0.9458492453139602, -1.2208463954091036, -1.0275462319245843 }, true, false, true }, /* 12 */
	{ { -0.4724816257711095, -1.3645395737253336, -0.10166687037355948, 1.4007953348977205, 1.4424341301383188, 0.7524718438319487, 1.5350637699301344, -1.4899744879408783, -0.7918936629379163, 0.38385440397470516 }, true, false, true }, /* 13 */
	{ { -0.27896381557521965, -1.4515385789253814, 0.19359961474168674, 0.04464760206191209, -0.7677648295186741, -0.02173335032347623, 0.5442921354766844, 1.1853029734403893, -0.6429482002297131, -0.9256986363765461 }, false, false, false }, /* 14 */
	{ { 0.15277494973066874, -1.0687843636237488, 1.7421587450775524, 0.23681555192439194, -0.2916647548527105, -0.12276311835109643, 0.04363336983318976, -1.9351219930561419, -0.5773500786673895, -0.7527507590594222 }, true, false, false }, /* 15 */
	{ { 1.046615091619166, -1.5609018147795284, 1.1079226540172247, 0.2919192225047322, 1.6530872406662094, -0.6830163127940059, 1.4886835601292303, -0.6869176343528642, -0.3468767530571655, 0.6558809863966197 }, true, false, true }, /* 16 */
	{ { 0.752829147138026, -1.2626042744252344, -1.9061394694074547, 0.030392390183817154, 0.4555631544464718, 1.0068666940478446, 1.2309456130450525, 1.0333666289450671, -1.0944053156578017, -1.6639193130824002 }, false, false, false }, /* 17 */
	{ { 1.480089066391649, -0.8860676181259464, 2.073410838997898, 0.7426284940954879, 0.493168627134688, -0.513300395941267, 0.8676644723565087, 1.4464572198458172, -1.498107933710694, 0.3542454081099051 }, true, false, false }, /* 18 */
	{ { 1.929278755043227, -1.2858686475778318, 1.8397248893798208, 1.4252535468534604, 1.305070999293703, 0.6066480054493772, 1.0715699683525475, -0.018545262187153355, -0.5190532400241177, -1.2486897386121378 }, true, false, true }, /* 19 */
	{ { -1.3760076725469528, -1.2115270475796232, 1.640728487109803, 0.4916045276254689, 0.2417143311491019, 1.894033728764506, 1.2530686764316161, -1.4271052251786713, -1.0013743251221696, -0.5961124350710043 }, false, false, false }, /* 20 */
	{ { 1.7125019871077454, -1.2676246336138708, -2.0293813202174285, 0.3991885059362119, -1.1350147934091237, -0.8167532819216063, 0.08424315626619525, -0.14940358365192297, -0.4870143800623863, 0.24636484394724212 }, true, false, false }, /* 21 */
	{ { 1.5093623499602007, -1.1994764947131373, 1.5434239429617218, 1.383563409596845, 1.2940220100455555, 0.24024842214264908, 1.329382067615006, 0.5451411814502762, -1.0088071434399972, -1.6697939837571942 }, true, false, false }, /* 22 */
	{ { -0.3903862658692665, -1.2378185492495537, -0.11567299129077835, 0.2580573413316907, 1.5866705222213962, -1.1245833066105644, 0.9694180676844818, -1.8330288593021897, -0.515277697262406, 1.0434298834029612 }, true, false, true }, /* 23 */
	{ { -1.2397486646421472, -1.1919722641564454, 0.7242646995191233, 0.0723437915603149, -0.30320791731158603, 0.08986471906657867, 0.9435776003953626, -1.491014860996119, -0.5352842103130557, 0.1623150003115048 }, true, false, false }, /* 24 */
	{ { 0.7297361283594412, -0.6130942205604579, 1.9000940969039806, 0.9392469398313553, -0.09771115034902467, -1.2166615649534913, 1.6125858890331661, 1.921072283764234, -1.4181113757194674, 1.3151077132937252 }, true, false, false }, /* 25 */
	{ { -1.1715162976500695, -1.511573301181488, -0.796952459086296, 1.265612532988016, 1.2984684813199592, -0.002002122400862394, 0.18732849959689432, -1.1532264560833818, -1.435406850935932, -1.0270434817921896 }, true, false, false }, /* 26 */
	{ { 0.2754566999898107, -1.269032229760146, -0.003208823359726498, 0.9330710990672052, 1.5530551622167583, -1.6766396570043645, 1.3105542467591702, -0.495689200295661, -0.42165834771747135, 0.9123121496454942 }, true, false, true }, /* 27 */
	{ { -0.11417158508237502, -0.3346150592380077, -0.025809429641798776, 1.294833176303704, 1.6331976717835097, -1.686215708675948, 1.305758276511792, 1.970839548999253, -0.7465657056425122, -0.11419472978898426 }, true, false, false }, /* 28 */
	{ { 1.1687723255881846, -1.4273011647244171, -2.082611213670474, 0.280899156845324, -1.5218318954810555, -0.0534896936351843, 1.1666010271488083, 0.6947698664934943, -0.6902919369608572, 1.1052091040717298 }, true, false, false }, /* 29 */
	{ { 1.0598262299394756, -1.253605291980677, 1.140537299410851, 0.4141085088401023, 1.4689377351005657, -1.121668928922353, 0.022003080208489637, 1.0867505445943486, -0.7424561927983025, -0.49037981768708394 }, true, false, false }, /* 30 */
	{ { 0.5133810400085324, -1.3162619407378986, 0.7847173612371781, 0.7320938836555432, 1.557836029635577, -1.5777207974379595, 1.4336065952818147, -0.5302080101530107, -1.0450190757149764, -1.0538856367589498 }, true, false, true }, /* 31 */
	{ { -1.7392892646008602, -1.5946241992239674, 0.36751230565950754, 0.39625412162463286, -0.30244500147592723, -0.2051346223230428, 0.6657379220969145, -1.3683113635654496, -1.4024244831580128, -1.0147278731480132 }, true, false, false }, /* 32 */
	{ { -0.26904476580000125, -1.5583248128650933, 0.5841501740863801, 0.34782043701932946, 0.5506826305547645, 2.051164696270342, 1.5493177958116564, -1.0921856137553763, -1.0901809581091386, -0.8622023882724575 }, true, false, true }, /* 33 */
	{ { -0.8758593538449844, -1.3258610794001764, -0.6433873617026598, 0.11604701470427733, 1.5217937503596572, -1.061497454724121, 1.4566327277291018, 1.8468491332935177, -0.5266215827334355, -1.3063488054552252 }, true, false, true }, /* 34 */
	{ { -0.9714910230802767, -0.09740348394941933, 0.19033101310642309, 0.10905286265268219, -0.5769263532780433, 1.4319076317113537, 0.351952485438907, -0.10479752643211193, -1.208511259867747, -0.0656032081481217 }, false, false, false }, /* 35 */
	{ { 0.7595992656119286, -0.0989657244344384, 0.22069905068927476, 0.44537835830315375, 1.6064525438339614, 0.4973176198331113, 0.5904133505009765, -0.4389448417576918, -0.7486831366414286, 1.2140436921858404 }, false, false, false }, /* 36 */
	{ { 0.0602638661676016, -1.2290142358182918, -0.0320847645974176, 0.8293816558373499, 1.5911473886079959, -1.4681145871632673, 0.4121105301463133, 1.3118668428313063, -0.11669476719582228, 1.3521233851912493 }, true, false, false }, /* 37 */
	{ { -1.4677278699805822, -0.5081608309538537, -1.412491380016299, 1.299448890739214, -1.4461610303956567, 1.5822712503870182, 0.6771007784194751, -1.4991419504100167, -1.1273187697517812, 1.5890630479108867 }, false, false, false }, /* 38 */
	{ { -1.499181818060717, -1.306951030642536, -1.9387969462711907, 1.0568284202787954, 1.773760241281078, 0.4573293984764346, 0.6700276714166238, -0.359326384452322, -0.03866293234518503, 1.7552083548707071 }, true, false, false }, /* 39 */
	{ { 0.6631926464649571, -1.021170696217367, 1.0872861436699472, 0.7489270653347319, 1.4026287269750566, -0.09632853633511251, 0.4561468404342012, 1.6775062375364072, -0.8771279970898143, 0.6142827274656186 }, true, false, true }, /* 40 */
	{ { 1.372734587769997, -0.39887419447792927, 1.9926066022309117, 1.1729487453463043, 0.4017622018859961, -0.6082083229145705, 0.7916987791551552, 1.400913736899438, -0.21830161818218952, 0.03258758234577508 }, true, false, false }, /* 41 */
	{ { 1.0046699549553146, -0.3998502060091025, 0.8024296179132251, 1.2606371644118024, 0.584692586312153, 0.6720237683994479, 1.2770393116018321, -1.74280046185822, -1.3092257984082851, 1.6546168050249994 }, true, false, false }, /* 42 */
	{ { -0.9523273498507618, -0.9100041047917704, -0.8451498879570776, 1.4983144166060993, 1.7289209631284082, -1.266659677185583, 0.13362387909001938, 2.0496326444159347, -0.42585201078519663, -1.1600216988812644 }, true, false, false }, /* 43 */
	{ { -0.034576520466211846, -1.5209990681785759, 0.11847283607966252, 0.9724120469696607, 1.4531172275648925, -1.9076131630151951, 1.536216448496782, 0.7508653912389103, -0.8756330640827762, -0.7246458394290807 }, true, false, false }, /* 44 */
	{ { 1.6327375740175762, -0.8383069557503124, 1.207170460489039, 1.1927083450430658, -0.5656840084849004, -0.06092973484145148, 0.347261707680458, -0.8668945904666385, -0.14723402084528958, 1.2757873549234264 }, false, false, false }, /* 45 */
	{ { 0.8775876595057994, -1.4386402043260373, 1.2194326880061155, 1.0742440935722313, 1.472882217843575, -0.6561076162076453, 0.301973433868979, -1.605391117422093, -1.0168887136739166, 0.7497184793789908 }, true, false, false }, /* 46 */
	{ { 0.29717934715326066, -1.186316686367514, 1.6568835261769927, 0.18944834198115737, -0.0874030741107501, 0.4595733179563637, 1.0848793513846262, 0.8505647359114046, -0.13457629214828049, -0.38495418582839536 }, true, false, true }, /* 47 */
	{ { 0.5304166846268061, -1.043803850659141, 0.9737708461427821, 0.6357320906355464, 0.6025486751157558, -0.720217832737281, 0.9719143357607765, 0.5165353052435195, -0.6920492014268681, 1.8224196878034027 }, true, false, true }, /* 48 */
	{ { -0.16791943921395536, -0.21798843171400528, -1.9032967149280213, 0.4408167229899766, -0.5103940107564773, -0.24981985431949982, 0.9057743997829235, 1.6675734902890587, -0.10197033030451141, 1.2846801153230252 }, false, false, false }, /* 49 */
	{ { 1.931451097102305, -1.091427030320879, 0.024059803324109286, 0.9945007792170741, -0.8055013494206007, -0.7033550046279597, 0.9672405683152092, 0.131834471335611, -0.9689054982491957, 0.27693551605748956 }, false, false, false }, /* 50 */
	{ { -0.6928127165552902, -0.9386422656048021, 0.12687714466394562, 0.9607668726000385, -0.45395031517813056, 0.5116368748509088, 1.2007399723591805, -0.5149607441365514, -1.3384308563816492, -0.23972437605206864 }, false, false, false }, /* 51 */
	{ { -1.1859772488125824, -1.4768276130304197, -1.554641761509187, 0.38489773273359257, 1.5844892665546926, -0.0352146679087908, 1.4407591324431213, 0.030623941027736024, -0.791302134429481, 1.4599382251606472 }, true, false, false }, /* 52 */
	{ { -0.22648899597209438, -1.4117193534230963, -0.1416706303090436, 1.1615112790915705, 1.217663048259367, 0.9267656062876304, 0.9712046896095772, -1.229283207884347, -0.054569206930844105, -0.4984251691583219 }, true, false, true }, /* 53 */
	{ { 0.38381069665511314, -0.8155449693605981, 1.2663468647496368, 0.1278373080720115, 0.8391876810944185, -0.6182665514085273, 1.4798892563488435, 1.54796668459807, -0.60764993251948, 0.7511956473003565 }, true, false, true }, /* 54 */
	{ { 1.7145603755695866, -1.104603960719785, -1.847805694586949, 0.23584195237463684, -1.058013367536566, -1.307728335650042, 0.3837397828022167, 1.9366031255413185, -0.29073261158575825, 1.1853652546822935 }, true, false, false }, /* 55 */
	{ { -0.08969644352681594, -1.0508018795055118, 0.6178622905462312, 0.20477420838018676, 0.5728494349641413, 1.468513265145861, 1.2761083760276875, 0.609764510883311, -0.7543571497516429, 1.384706266840631 }, true, false, false }, /* 56 */
	{ { 0.34766632885388304, -0.830795943153611, 0.7994726340523015, 0.5317475493591916, 0.9154035937560736, -1.4373160028705496, 1.3346301152198012, -0.6384093557643788, -0.6658861102463784, 0.761215957059509 }, true, false, true }, /* 57 */
	{ { -0.3079767203567305, -1.211829202715013, -0.199166640389435, 0.2213075176160498, 1.248106562115797, 0.5373460648457704, 1.3880811424871602, 1.5688219443496325, -0.5184206554720334, -0.729943561929447 }, true, false, true }, /* 58 */
	{ { 1.8204823693369803, -1.6064825891152241, -2.027257657946814, 0.309999640872919, -0.816159213486723, -0.8450554943675603, 1.1028405368978522, -0.5541432040575838, -0.5969574836892444, -1.5568474827680363 }, true, false, false }, /* 59 */
	{ { 1.9243992542096766, -0.36775974175225, 0.5458480204140961, 0.24899156537041103, -1.0441781412021671, 1.5925267374051133, 0.5300248237483123, 0.8729496749413506, -1.396099378778017, -0.3745391786042007 }, false, false, false }, /* 60 */
	{ { -1.6016167213387487, -1.5473718966057133, -1.8827962917734953, 0.5290760041062836, 1.4850641537771896, -1.1754128955556962, 0.6264730456737171, 0.7834071699767939, -0.9471260352851611, 1.1523502954581226 }, true, false, false }, /* 61 */
	{ { 0.4424695275042234, -1.0573050522058067, 1.4088365635932254, 0.0809032580676176, 0.23595525049567057, -1.700105318200802, 1.0288451235859755, 0.5293427570591192, -0.690712503030276, -1.3937852955013759 }, true, false, false }, /* 62 */
	{ { -0.17867452545933227, -0.40511363259714606, -1.9289829691581724, 0.27425617987879003, -0.6957173354852284, -1.0841061568024541, 0.38556928761812637, -1.6552186010028291, -1.0818794260919316, -1.2810492456384426 }, false, false, false }, /* 63 */
	{ { -0.6525302846248202, -1.6299297209136707, -1.072988457892392, 1.4072180889637038, -1.485983404401325, -0.931277853331514, 0.47202560794414294, -0.3698610562754072, -0.41785856114583364, -0.3802111765821403 }, false, false, false }, /* 64 */
	{ { -1.0944573668792126, -1.513243378195901, 0.5634812613001308, 0.1977010322926869, -0.4399890069174359, -0.2464896904462912, 0.5554489528911124, -0.8559467877805218, -0.6737173185220477, -0.056610976791027 }, true, false, false }, /* 65 */
	{ { -0.14732527687626273, -1.5278053020347482, 0.09602127395891813, 0.2266911990313892, 1.2696080003187173, -0.4073501341529113, 0.8228191402394045, -1.5718970978897429, -1.207982751793895, -1.265768484306804 }, true, false, true }, /* 66 */
	{ { 0.5867079265599786, -0.7846725965774591, 1.0653147964647003, 0.13038441612498322, 0.8287909573996388, -1.0945512342739627, 0.23225870732921042, 0.24920726430053186, -0.1605814045514431, 0.5080503012697712 }, true, false, true }, /* 67 */
	{ { -0.19716064447228532, -1.638163844564544, 1.561062440914652, 0.06627124271835917, -0.18896004462722193, 0.3010741153183907, 1.143272676522551, 1.1230998252469782, -0.9792129025224977, -0.36578590943713074 }, true, false, true }, /* 68 */
	{ { 0.27696240234478786, -1.6124546092075462, 0.15814358832601938, 1.145159241473559, 1.4502422783332842, 0.8859576718014779, 0.8699823790424821, 1.1008110453810063, -1.2660740789903329, 0.8261812632021228 }, true, false, false }, /* 69 */
	{ { 2.0607260344032383, -1.2276323582644662, -2.0690655956561446, 0.06475822789550215, 0.02368141507787347, -1.7871940470289176, 0.5305163298477059, -0.2659875952638606, -0.05685945619705879, -0.16758646710399594 }, false, false, false }, /* 70 */
	{ { -0.4835688459161511, -0.8843579879013461, 0.26935757779166636, 0.06171675158737022, 1.423118183415033, 1.6285618960284545, 0.038941712768481976, -0.0801996530811917, -0.891723968682029, 1.4125885176596489 }, false, false, false }, /* 71 */
	{ { -1.3006208945156297, -1.4671743798409413, 0.3017218055485311, 0.0868193286726903, 0.23422377315131815, -1.0737550818962096, 0.4160717711479851, -0.5300192222699067, -0.27848962759908846, -1.4103516427822422 }, true, false, false }, /* 72 */
	{ { 1.7513059516152651, -1.327905525491957, -1.493796927385283, 0.2626171576314642, -1.393467661323203, -0.6218471184466821, 1.4294555189452398, 1.778178559785109, -0.40541790450531257, -1.408345362126599 }, true, false, false }, /* 73 */
	{ { 0.20641584603392182, -1.516329076304721, 4.4155732847084295E-4, 0.1981337020884743, 1.757987197415214, 2.0442973133159716, 1.644639930164737, 1.032249522594039, -0.4419434583400379, 0.2945956648596977 }, true, false, false }, /* 74 */
	{ { -1.1982813587430812, -1.4540325065357385, -0.8835522717417914, 0.7760388911942799, 1.566898731312159, 0.8859499038971905, 0.9763524928883408, 1.5609006223082789, -0.47510934649568637, 0.8430398649696169 }, true, false, true }, /* 75 */
	{ { -0.15090935448780063, -1.4409593219698462, -0.2345914076488016, 0.6021942695881576, 1.7054373066713295, -0.35598073713365297, 0.5554547164992503, -0.5952326152128464, -0.9393497945727761, 0.18145742128435627 }, true, false, true }, /* 76 */
	{ { 0.7255603383274738, -0.695091043482591, 1.8477381541951692, 0.9621082549743586, 0.06237059741349271, -2.0508437166463493, 1.4517612662766117, 1.9899055870426388, -0.9001476168257468, 0.7829359515751322 }, true, false, false }, /* 77 */
	{ { 0.1317071260544247, -1.1413876271716816, 0.572325154001966, 0.3740501616012735, 1.4926328874453239, -0.8785490385110937, 0.9064242776276031, -1.813735671839439, -0.9956967236909406, 0.45257331619041974 }, true, false, true }, /* 78 */
	{ { 0.10345927809754762, -0.7976565513237963, 1.8775018764764813, 0.03377879200736701, -0.001040999782636387, 1.0452553404103995, 1.3433595512933365, -0.27639308628319714, -1.2335835325255715, 1.3379195899925609 }, true, false, true }, /* 79 */
	{ { -1.26632245745366, -1.4309035065985118, -0.21944536909641954, 1.3178660894141507, -1.5693603724501632, -1.3734391946422928, 0.2760058679829594, 1.2612629225825955, -0.13670524132039685, 0.1511466608171128 }, false, false, false }, /* 80 */
	{ { 1.3719636056378084, -1.345574123054392, 1.3604820646125746, 0.900583144899074, -1.0007707387037994, -1.203559639667997, 0.882667096423242, 1.1016582188176596, -1.4644379476036773, 0.06856938562531933 }, false, false, false }, /* 81 */
	{ { -0.42076847866321954, -0.9059912635223979, -1.1477480049465258, 0.6289726414995088, -0.6005648432908357, 0.8471413587382348, 1.5373416196621688, -1.197743328364854, -0.5704274486238851, 0.8038097482262581 }, false, false, false }, /* 82 */
	{ { 0.641534502122604, -1.3109280874572153, 0.9569721447853521, 0.980700460224257, 1.4222454799977382, 0.017353915141988807, 0.5217801708131588, -1.7568666136760398, -0.9505360721028513, -0.9736345892438751 }, true, false, false }, /* 83 */
	{ { 1.0542219746172505, -1.234877419950817, 1.9039964559683176, 0.5903672774640011, 0.6422393458961193, -0.885688860109906, 1.3526251893706691, 0.8433388759826843, -0.34079279383336614, 0.8786120281373204 }, true, false, true }, /* 84 */
	{ { 0.29240568763438235, -0.6084976276025822, -1.1876048285307403, 1.4649895107148228, 1.3944637718829966, 1.8138816126189545, 1.5962566823641764, -0.7450327582841934, -0.38619672798252624, -1.2678592855261557 }, false, false, false }, /* 85 */
	{ { -1.5335902683107487, -0.8593276552503188, 0.08190257460565853, 0.20283781765871284, 0.30062125295541087, -0.9587405390059329, 0.0920193647629121, -1.4959038186077596, -1.1365074101297437, -0.6537613678778507 }, false, false, false }, /* 86 */
	{ { -0.696983945524817, -1.51813246239479, -0.9086406741381627, 1.3220735407906783, 1.4581217737319268, -1.1345923346702997, 0.22513427678721884, 0.1170142674864727, -0.45227538599601314, 0.17880107436806147 }, true, false, false }, /* 87 */
	{ { -0.317594990476626, -0.9339492620723415, 1.8496182489708386, 0.01535585931563933, -0.4008760280246262, -0.19122819114825673, 1.4347459323743201, 1.1580235882347445, -0.959832120208964, -0.39519724173443893 }, true, false, false }, /* 88 */
	{ { 1.3876626548836128, -1.2407553337051964, 1.5012724773669999, 0.5113699957606614, 1.3499778401390232, -1.3787878241473974, 0.2930997540821678, 1.6248293253608934, -1.4763484622600198, -1.0843822472863747 }, true, false, true }, /* 89 */
	{ { -0.9736831595711806, -1.4127599100419317, 1.1137463964167642, 1.2473773919586497, 0.6603558100409068, 1.9982992335046212, 1.3629035038880641, 1.7819092421140459, -0.769487640513635, 1.284806629090665 }, false, false, false }, /* 90 */
	{ { -1.2522281004037121, -1.5324412633764823, 0.1853330153578403, 1.3382485429622226, 0.2816927598752508, -1.5881029553378887, 1.484552837230054, 1.960951498785703, -1.0696025535332208, 0.7466578856624957 }, false, false, false }, /* 91 */
	{ { -0.8928304709259236, -1.4516277190958422, 1.6757105938308907, 0.03910391223965396, -0.6101506251283522, -1.1608013877542023, 0.31497478747392305, -0.8532615185848078, -1.2723269222281108, 0.4020160005082114 }, true, false, false }, /* 92 */
	{ { -1.9129771442646946, -1.5589407320824271, -0.16744639358755142, 0.1476891401613794, -0.23799799268619348, -0.540559466543943, 0.9956519282690861, 1.9342003203128968, -0.10748315159683486, 1.69758913046448 }, true, false, true }, /* 93 */
	{ { -0.39255786382123947, -0.3505853620571291, 0.8586881888550244, 1.3959522504252706, -0.8266969559248223, 0.659992298708358, 1.4722773785267083, 0.3815666806408715, -1.2913872275544371, -1.2955981906254803 }, false, false, false }, /* 94 */
	{ { 1.702675764797538, -0.5916996724842178, 1.954966747123943, 1.475263308626002, 0.8497471384591067, -0.29697563227298573, 1.4834808183078492, -1.5095926290057495, -1.225197455619089, 1.127260094488872 }, true, false, false }, /* 95 */
	{ { -0.26120745684546276, -1.6221757001258463, -0.5195974805453187, 0.3000067097992007, 1.5348046105600472, -1.9625588737223307, 1.0927143827649175, 1.1364663300341729, -1.0615717217979705, 0.20810972093868596 }, true, false, false }, /* 96 */
	{ { 2.061592720810146, -1.5359317309505087, -0.5113155572759618, 1.106183118219707, -0.8056667868405829, 0.1329921558633531, 0.8590696222574111, 1.1238797910066398, -0.5704428744378526, 1.0457582271020671 }, false, false, false }, /* 97 */
	{ { -0.3629889283090517, -1.5599775849691673, -0.433820064902696, 0.42843829142576195, 1.257814875659637, 1.2994168580887915, 0.49121102542544653, 1.03160263374388, -0.039387290985800405, 0.9991094169353039 }, true, false, false }, /* 98 */
	{ { 0.5043398010146145, -1.437071667264681, 1.0497957425503568, 0.016748452640826375, 0.7878749720065503, -0.7133442924809084, 0.9495899975903416, 1.8979103088809848, -1.452152910522081, -0.9261608767559993 }, true, false, true }, /* 99 */
        { { 1.2117049593867877, 
            -0.849318679394625, 
            1.3363256902066274, 
            1.1814491589193017, 
            1.0210115064843417, 
            -0.7133714426353219, 
            1.3857892094221163, 
            -0.848077889245769, 
            -1.1842910221638094, 
            0.8974725011013255, }, false, false, false },
        { { -0.49345193515848684, 
            -1.215501586485173, 
            -0.3633385259387075, 
            1.23536323178788, 
            1.5910190953466503, 
            -1.587136420100389, 
            0.8349201637934007, 
            1.4002490178274225, 
            -0.6507425374339864, 
            -0.9423337691551725, }, false, false, false },
};

static char *
boolstr(bool v)
{
        return v ? "true" : "false";
}

int
main(int argc, char *argv[])
{
        prrts_system_t *system;
        void *system_data;
        bool prev_clear = false;
        bool curr_clear;
        bool in_goal;
        bool link_to_prev;
        
        int expected_clear;
        int expected_goal;
        int expected_link;
        double config[10];
        double prev[10];
        int i, j, n;

        system = naocup_create_system();

        system_data = (system->system_data_alloc_func)(0, system->min, system->max);

        // TODO: make sure the system is initializing min, max, init, target


#if 0
        for (i=0 ; i<array_size(test_data) ; ++i) {
                printf("-- %d --\n", i);
                in_goal = (system->in_goal_func)(system_data, test_data[i].config);
                curr_clear = (system->clear_func)(system_data, test_data[i].config);
                link_to_prev = prev_clear && curr_clear &&
                        (system->link_func)(system_data, test_data[i].config, test_data[i-1].config);

                if (in_goal != test_data[i].in_goal ||
                    curr_clear != test_data[i].is_clear ||
                    link_to_prev != test_data[i].link_to_prev)
                {
                        printf("[%d] mismatch: clear(%s v %s) link(%s v %s) goal(%s v %s)\n",
                               i,
                               boolstr(curr_clear), boolstr(test_data[i].is_clear),
                               boolstr(link_to_prev), boolstr(test_data[i].link_to_prev),
                               boolstr(in_goal), boolstr(test_data[i].in_goal));
                }

                prev_clear = curr_clear;
        }
#endif
        for (i=0 ; ; ++i) {
                n = scanf("%lf, %lf, %lf, %lf, %lf, "
                          "%lf, %lf, %lf, %lf, %lf, "
                          "%d %d %d\n",
                       
                          &config[0], &config[1], config+2, config+3, config+4,
                          config+5, config+6, config+7, config+8, config+9,
                          &expected_clear, &expected_goal, &expected_link);

                if (n != 13) {
                        fprintf(stderr, "short scanf %d\n", n);
                        abort();
                }

                printf("[%d] : %f %f %f %f %f | %f %f %f %f %f : %d %d %d\n",
                       i,
                       config[0], config[1], config[2], config[3], config[4],
                       config[5], config[6], config[7], config[8], config[9],
                       expected_clear, expected_goal, expected_link);

                in_goal = (system->in_goal_func)(system_data, config);
                curr_clear = (system->clear_func)(system_data, config);
                link_to_prev = prev_clear && curr_clear && (system->link_func)(system_data, config, prev);

                if (in_goal != (!!expected_goal) ||
                    curr_clear != (!!expected_clear) ||
                    link_to_prev != (!!expected_link))
                {
                        fprintf(stderr, "[%d] mismatch: expected %d %d %d, got %d %d %d\n",
                                i, expected_goal, expected_clear, expected_link,
                                in_goal, curr_clear, link_to_prev);

                        fprintf(stderr, "prev = { ");
                        for (j=0 ; j<10 ; ++j) {
                                fprintf(stderr, "%f, ", prev[j]);
                        }
                        fprintf(stderr, "\ncurr = { ");
                        for (j=0 ; j<10 ; ++j) {
                                fprintf(stderr, "%f, ", config[j]);
                        }

                        abort();
                }

                memcpy(prev, config, sizeof(config));
                prev_clear = curr_clear;
                       
        }

        (system->system_data_free_func)(system_data);

        naocup_free_system(system);

        return 0;
}
